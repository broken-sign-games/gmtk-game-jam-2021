title A Sailor's Pastime
author MZCJ
homepage www.puzzlescript.net

verbose_logging

mouse_left
mouse_right
mouse_drag
mouse_up

run_rules_on_level_start

background_color #ABE9FC
text_color #764B2C

(noundo)

========
OBJECTS
========

lmb
pink

rmb
pink

lmbup
pink

rmbup
pink

drag
pink


Background
#9E6337

Plank1
#935b33
.....
.....
00000
..0..
..0..

(We're not using pseudo-3D sprites for this, because they
 would poke out above any objects on the cell above.)
Plank1Below
#935b33
..0..
..0..
.....
.....
.....

Plank2
#935b33
.....
.....
00000
.....
.....

Plank3
#935b33
.....
.....
00000
.....
.....

Plank4
#935b33
.....
.....
00000
.....
.....

Plank5
#935b33
.....
.....
00000
.....
.....

Plank6
#935b33
.....
.....
00000
.....
.....

PlankFront
#643C23 #DEF4FD
00000
11111
.....
.....
.....

CursorActiveStill
#EA7420
00.00
0...0
.....
0...0
00.00

CursorActiveMoved
#EA7420
00.00
0...0
.....
0...0
00.00

CursorCrate
#EA7420
00000
0...0
0...0
0...0
0...0
0...0
00000

CursorBarrel
#EA7420
.000.
0...0
0...0
0...0
0...0
0...0
.000.

Tweak
#333333 #555555
.....
..0..
.010.
..0..
.....

Wall
#ABE9FC

Wall_v1
#DEF4FD
.....
.....
..0..
.0.0.
0...0

Wall_v2
#DEF4FD
.....
.....
..0..
.0.0.
.....

Wall_v3
transparent

Rock
#555 #888 #DEF4FD 
..1..
..11.
.001.
20002
.222.

Crate
#4D301C #643C23 #764B2C
00000
02210
02120
01220
00000
01110
00000

Barrel
#4D301C #643C23 #764B2C
.000.
01210
02220
01210
10001
01110
.000.

CrateTarget
#4D301C
.....
.0.0.
..0..
.0.0.
.....

BarrelTarget
#4D301C
.000.
0...0
0...0
0...0
.000.

CrossTarget
Purple
.0.0.
00.00
.....
00.00
.0.0.

HighUp
white
..0..
..0..
..0..
.....
.....

LowUp
white
..0..
.....
.....
.....
.....

HighDown
white
.....
.....
..0..
..0..
..0..


LowDown
white
.....
.....
.....
.....
..0..

HighLeft
white
.....
.....
000..
.....
.....

LowLeft
white
.....
.....
0....
.....
.....

HighRight
white
.....
.....
..000
.....
.....

LowRight
white
.....
.....
....0
.....
.....

HighUp_v1_0
#B69871 #CABEA2
..0..
..1..
..0..
.....
.....

HighUp_v1_1
#CABEA2 #B69871
..0..
..1..
..0..
.....
.....

LowUp_v1_0
#B69871 #CABEA2
..0..
.....
.....
.....
.....

LowUp_v1_1
#CABEA2 #B69871
..0..
.....
.....
.....
.....

HighDown_v1_0
#B69871 #CABEA2
.....
.....
..0..
..1..
..0..

HighDown_v1_1
#CABEA2 #B69871
.....
.....
..0..
..1..
..0..


LowDown_v1_0
#B69871 #CABEA2
.....
.....
.....
.....
..0..

LowDown_v1_1
#CABEA2 #B69871
.....
.....
.....
.....
..0..

HighLeft_v1_0
#B69871 #CABEA2
.....
.....
010..
.....
.....

HighLeft_v1_1
#CABEA2 #B69871
.....
.....
010..
.....
.....

LowLeft_v1_0
#B69871 #CABEA2
.....
.....
0....
.....
.....

LowLeft_v1_1
#CABEA2 #B69871
.....
.....
0....
.....
.....

HighRight_v1_0
#B69871 #CABEA2
.....
.....
..010
.....
.....

HighRight_v1_1
#CABEA2 #B69871
.....
.....
..010
.....
.....

LowRight_v1_0
#B69871 #CABEA2
.....
.....
....0
.....
.....

LowRight_v1_1
#CABEA2 #B69871
.....
.....
....0
.....
.....



HighUp_v2_0
#3F5687 #556A99
..0..
..1..
..0..
.....
.....

HighUp_v2_1
#556A99 #3F5687
..0..
..1..
..0..
.....
.....

LowUp_v2_0
#3F5687 #556A99
..0..
.....
.....
.....
.....

LowUp_v2_1
#556A99 #3F5687
..0..
.....
.....
.....
.....

HighDown_v2_0
#3F5687 #556A99
.....
.....
..0..
..1..
..0..

HighDown_v2_1
#556A99 #3F5687
.....
.....
..0..
..1..
..0..


LowDown_v2_0
#3F5687 #556A99
.....
.....
.....
.....
..0..

LowDown_v2_1
#556A99 #3F5687
.....
.....
.....
.....
..0..

HighLeft_v2_0
#3F5687 #556A99
.....
.....
010..
.....
.....

HighLeft_v2_1
#556A99 #3F5687
.....
.....
010..
.....
.....

LowLeft_v2_0
#3F5687 #556A99
.....
.....
0....
.....
.....

LowLeft_v2_1
#556A99 #3F5687
.....
.....
0....
.....
.....

HighRight_v2_0
#3F5687 #556A99
.....
.....
..010
.....
.....

HighRight_v2_1
#556A99 #3F5687
.....
.....
..010
.....
.....

LowRight_v2_0
#3F5687 #556A99
.....
.....
....0
.....
.....

LowRight_v2_1
#556A99 #3F5687
.....
.....
....0
.....
.....

HighUp_v3_0
#7F2A2C #994344
..0..
..1..
..0..
.....
.....

HighUp_v3_1
#994344 #7F2A2C
..0..
..1..
..0..
.....
.....

LowUp_v3_0
#7F2A2C #994344
..0..
.....
.....
.....
.....

LowUp_v3_1
#994344 #7F2A2C
..0..
.....
.....
.....
.....

HighDown_v3_0
#7F2A2C #994344
.....
.....
..0..
..1..
..0..

HighDown_v3_1
#994344 #7F2A2C
.....
.....
..0..
..1..
..0..


LowDown_v3_0
#7F2A2C #994344
.....
.....
.....
.....
..0..

LowDown_v3_1
#994344 #7F2A2C
.....
.....
.....
.....
..0..

HighLeft_v3_0
#7F2A2C #994344
.....
.....
010..
.....
.....

HighLeft_v3_1
#994344 #7F2A2C
.....
.....
010..
.....
.....

LowLeft_v3_0
#7F2A2C #994344
.....
.....
0....
.....
.....

LowLeft_v3_1
#994344 #7F2A2C
.....
.....
0....
.....
.....

HighRight_v3_0
#7F2A2C #994344
.....
.....
..010
.....
.....

HighRight_v3_1
#994344 #7F2A2C
.....
.....
..010
.....
.....

LowRight_v3_0
#7F2A2C #994344
.....
.....
....0
.....
.....

LowRight_v3_1
#994344 #7F2A2C
.....
.....
....0
.....
.....

Overlay (for putting on tiles with both high and low wires) (used to be visual, is now purely for logic)
transparent

WinConCrates
transparent

WinConCrosses
transparent

WinConRopes
transparent

Temp
pink

lowertag
pink

move56alttag
transparent

loc11
pink

loc21
pink

loc31
pink

loc12
pink

loc22
pink

loc32
pink

loc13
pink

loc23
pink

loc33
pink



TargetCrossVertical
#E5DAC7
.0.0.
00.00
.0.0.
00.00
.0.0.

TargetCrossHorizontal
#E5DAC7
.0.0.
00000
.....
00000
.0.0.

TargetUpDown
#E5DAC7
.0.0.
.0.0.
.0.0.
.0.0.
.0.0.

TargetLeftRight
#E5DAC7
.....
00000
.....
00000
.....

TargetUpLeft
#E5DAC7
.0.0.
00.0.
...0.
0000.
.....

TargetUpRight
#E5DAC7
.0.0.
.0.00
.0...
.0000
.....

TargetDownLeft
#E5DAC7
.....
0000.
...0.
00.0.
.0.0.

TargetDownRight
#E5DAC7
.....
.0000
.0...
.0.00
.0.0.

MovableAnchor
#898989
.....
.000.
.0.0.
.000.
.....

StaticAnchor
#898989

HighlightSquare
#EA7420
..0..
..0..
00.00
..0..
..0..

HighlightUp
#EA7420
.....
..0..
.0.0.
.....
.....

HighlightDown
#EA7420
.....
.....
.0.0.
..0..
.....

HighlightLeft
#EA7420
.....
..0..
.0...
..0..
.....

HighlightRight
#EA7420
.....
..0..
...0.
..0..
.....



((((( Title screen tiles )))))

x0y0
#abe9fc 
00000
00000
00000
00000
00000

x0y1
#abe9fc 
00000
00000
00000
00000
00000

x0y2
#abe9fc 
00000
00000
00000
00000
00000

x0y3
#abe9fc 
00000
00000
00000
00000
00000

x0y4
#abe9fc 
00000
00000
00000
00000
00000

x0y5
#abe9fc 
00000
00000
00000
00000
00000

x0y6
#abe9fc 
00000
00000
00000
00000
00000

x0y7
#abe9fc 
00000
00000
00000
00000
00000

x0y8
#abe9fc 
00000
00000
00000
00000
00000

x1y0
#abe9fc #8e5b35 #99633a 
00000
00000
00111
00122
00122

x1y1
#8e5b35 #99633a 
00001
01111
01111
01111
00001

x1y2
#abe9fc #8e5b35 #99633a 
00122
00122
00122
00122
00122

x1y3
#abe9fc #8e5b35 #99633a 
01112
01222
01222
01222
01222

x1y4
#8e5b35 #99633a 
00011
01111
01111
01111
00001

x1y5
#abe9fc #8e5b35 #99633a 
00122
00122
00122
00122
00122

x1y6
#8e5b35 #99633a 
00001
01111
01111
01111
00011

x1y7
#abe9fc #8e5b35 #99633a 
01222
01222
01222
01222
01112

x1y8
#abe9fc #8e5b35 #99633a 
00122
00122
00111
00000
00000

x2y0
#abe9fc #8e5b35 #99633a #333333 
00000
00000
11111
22222
23222

x2y1
#333333 #555555 #cabea2 #b69872 #99633a 
01023
40444
42444
43444
42442

x2y2
#99633a #b69872 #cabea2 
01002
02002
01002
02002
01002

x2y3
#99633a #cabea2 #b69872 
01001
02000
01000
02000
01001

x2y4
#99633a #b69872 #cabea2 
01002
02002
01000
02000
01002

x2y5
#99633a #cabea2 #b69872 
01000
02000
01000
02001
01001

x2y6
#99633a #b69872 #cabea2 
01002
02002
01002
02002
01002

x2y7
#99633a #cabea2 #b69872 #333333 #555555 
01001
02000
03000
34321
03000

x2y8
#99633a #8e5b35 #abe9fc 
00000
00000
11111
22222
22222

x3y0
#abe9fc #8e5b35 #99633a 
00000
00000
11111
22222
22222

x3y1
#cabea2 #b69872 #99633a 
01010
22222
22222
00222
22022

x3y2
#99633a #cabea2 
00100
11100
00100
00100
00100

x3y3
#99633a #cabea2 
00100
00000
00000
11000
00101

x3y4
#99633a #cabea2 
00001
11101
00101
00101
00101

x3y5
#cabea2 #99633a 
00110
11111
11111
00111
11010

x3y6
#99633a #cabea2 
00101
11001
00001
00001
00001

x3y7
#99633a #cabea2 #b69872 
00001
00000
00000
21212
00000

x3y8
#99633a #8e5b35 #abe9fc 
00000
00000
11111
22222
22222

x4y0
#abe9fc #8e5b35 #99633a 
00000
00000
11111
22222
22222

x4y1
#b69872 #cabea2 #99633a 
01010
22222
22222
22222
22222

x4y2
#99633a 
00000
00000
00000
00000
00000

x4y3
#99633a #cabea2 
00000
00000
00000
11001
00100

x4y4
#99633a #cabea2 
00100
11100
00100
00100
00100

x4y5
#99633a #cabea2 
00101
00000
00000
11000
00101

x4y6
#99633a #cabea2 
00101
11101
00100
00100
00101

x4y7
#99633a #cabea2 #b69872 
00100
00000
00000
12121
00000

x4y8
#99633a #8e5b35 #abe9fc 
00000
00000
11111
22222
22222

x5y0
#abe9fc #8e5b35 #99633a 
00000
00000
11111
22222
22222

x5y1
#cabea2 #b69872 #99633a #e5dac7 
01010
22222
22222
22223
22233

x5y2
#99633a #e5dac7 
00110
01000
00000
00000
00000

x5y3
#99633a #cabea2 
00000
00000
00000
11010
10010

x5y4
#cabea2 #99633a 
01101
01101
01101
01101
01101

x5y5
#cabea2 #99633a 
00100
11111
11111
00110
11011

x5y6
#99633a #cabea2 
00000
11100
00100
00100
00100

x5y7
#cabea2 #99633a #b69872 
00111
11111
11111
20202
11111

x5y8
#99633a #8e5b35 #abe9fc 
00000
00000
11111
22222
22222

x6y0
#abe9fc #8e5b35 #99633a 
00000
00000
11111
22222
22222

x6y1
#b69872 #cabea2 #99633a #e5dac7 
01010
22222
22222
32222
33222

x6y2
#e5dac7 #99633a #e2855a 
00011
10001
12200
22200
21110

x6y3
#99633a #cabea2 
00000
00000
00000
00011
00100

x6y4
#99633a #cabea2 
00100
00100
00100
00100
00100

x6y5
#cabea2 #99633a 
01100
11111
11111
00100
01110

x6y6
#cabea2 #99633a 
01110
01110
01110
01110
01110

x6y7
#cabea2 #99633a #b69872 
01100
11111
11111
02020
11111

x6y8
#99633a #8e5b35 #abe9fc 
00000
00000
11111
22222
22222

x7y0
#abe9fc #8e5b35 #99633a 
00000
00000
11111
22222
22222

x7y1
#cabea2 #b69872 #99633a #e5dac7 
01010
22222
22222
22233
22333

x7y2
#99633a #e5dac7 
01111
11110
11100
11000
10000

x7y3
#99633a #cabea2 
00000
00000
00000
00111
10100

x7y4
#cabea2 #99633a 
01011
01000
01011
01011
01011

x7y5
#99633a #cabea2 
00100
00000
00000
10100
00110

x7y6
#99633a #cabea2 
00101
00100
00100
00100
00100

x7y7
#cabea2 #99633a #b69872 
01011
11111
11111
20202
11111

x7y8
#99633a #8e5b35 #abe9fc 
00000
00000
11111
22222
22222

x8y0
#abe9fc #8e5b35 #99633a 
00000
00000
11111
22222
22222

x8y1
#b69872 #cabea2 #99633a #e5dac7 
01010
22222
22222
22222
33222

x8y2
#e5dac7 #99633a 
00011
11001
11110
11111
11111

x8y3
#99633a #cabea2 
00000
01000
01000
00011
10100

x8y4
#cabea2 #99633a 
01011
11000
01111
01111
01011

x8y5
#cabea2 #99633a 
01100
11111
11111
10100
00101

x8y6
#99633a #cabea2 
01010
01011
01010
01010
01010

x8y7
#99633a #cabea2 #b69872 
01011
00000
00000
12121
00000

x8y8
#99633a #8e5b35 #abe9fc 
00000
00000
11111
22222
22222

x9y0
#abe9fc #8e5b35 #99633a #333333 
00000
00000
11111
22222
22232

x9y1
#cabea2 #b69872 #333333 #555555 #99633a 
01232
44424
44414
44404
44414

x9y2
#99633a #cabea2 #b69872 
00010
00020
00010
00020
00010

x9y3
#99633a #b69872 #cabea2 
00010
00020
00010
00020
20010

x9y4
#99633a #cabea2 #b69872 
00010
10020
10010
10020
10010

x9y5
#99633a #b69872 #cabea2 
00010
00020
00010
20020
00010

x9y6
#99633a #cabea2 #b69872 
00010
10020
00010
00020
00010

x9y7
#cabea2 #99633a #b69872 #333333 #555555 
01121
11101
11131
20343
11131

x9y8
#99633a #8e5b35 #abe9fc 
00000
00000
11111
22222
22222

x10y0
#abe9fc #8e5b35 #99633a 
00000
00000
11110
22210
22210

x10y1
#99633a #8e5b35 #abe9fc 
01112
00122
00122
00122
00122

x10y2
#99633a #8e5b35 
01111
00001
00001
00001
01111

x10y3
#99633a #8e5b35 #abe9fc 
00012
00012
00012
00012
01112

x10y4
#99633a #8e5b35 #abe9fc 
00122
00122
00122
00122
00122

x10y5
#99633a #8e5b35 #abe9fc 
00122
01111
00001
00001
00001

x10y6
#99633a #8e5b35 #abe9fc 
01111
00012
00012
00012
00012

x10y7
#99633a #8e5b35 
00111
00001
00001
00001
01111

x10y8
#99633a #8e5b35 #abe9fc 
00122
00122
11122
22222
22222

x11y0
#abe9fc 
00000
00000
00000
00000
00000

x11y1
#abe9fc 
00000
00000
00000
00000
00000

x11y2
#abe9fc 
00000
00000
00000
00000
00000

x11y3
#abe9fc 
00000
00000
00000
00000
00000

x11y4
#abe9fc 
00000
00000
00000
00000
00000

x11y5
#abe9fc 
00000
00000
00000
00000
00000

x11y6
#abe9fc 
00000
00000
00000
00000
00000

x11y7
#abe9fc 
00000
00000
00000
00000
00000

x11y8
#abe9fc 
00000
00000
00000
00000
00000

longmoveover
pink

longmoveunder
pink

blocked
pink

blockedendpoint
pink

closetarget
pink

fartarget
pink

active
pink

lmooverride
pink

lmuoverride
pink

nomovement
pink

=======
LEGEND
=======

. = Background
# = Wall
R = Wall and Rock
* = CrateTarget
_ = BarrelTarget
(+ = CrossTarget)
O = Crate
U = Barrel

i = MovableAnchor and HighUp
k = MovableAnchor and HighDown
j = MovableAnchor and HighLeft
l = MovableAnchor and HighRight

1 = StaticAnchor and HighUp
2 = StaticAnchor and HighDown
3 = StaticAnchor and HighLeft
4 = StaticAnchor and HighRight

WinCon = WinConCrates or WinConCrosses or WinConRopes
Target = CrossTarget or CrateTarget or BarrelTarget or TargetCrossVertical or TargetCrossHorizontal or TargetUpDown or TargetLeftRight or TargetUpLeft or TargetUpRight or TargetDownLeft or TargetDownRight
Cratelike = Crate or Barrel
Anchor = MovableAnchor or StaticAnchor
Obstacle = Wall or Cratelike or Anchor

Player = Background (necessary for language reasons)

CursorActive = CursorActiveStill or CursorActiveMoved or CursorCrate or CursorBarrel

High = HighUp or HighDown or HighLeft or HighRight
Low = LowUp or LowDown or LowLeft or LowRight

Knot = High or Low

Up_ = HighUp or LowUp
Down_ = HighDown or LowDown
Left_ = HighLeft or LowLeft
Right_ = HighRight or LowRight

Horizontal_ = Left_ or Right_
Vertical_ = Up_ or Down_

HighHorizontal = HighLeft or HighRight
HighVertical = HighUp or HighDown

LowHorizontal = LowLeft or LowRight
LowVertical = LowUp or LowDown

HighLeft_v1 = HighLeft_v1_0 or HighLeft_v1_1
HighRight_v1 = HighRight_v1_0 or HighRight_v1_1
HighUp_v1 = HighUp_v1_0 or HighUp_v1_1
HighDown_v1 = HighDown_v1_0 or HighDown_v1_1
LowLeft_v1 = LowLeft_v1_0 or LowLeft_v1_1
LowRight_v1 = LowRight_v1_0 or LowRight_v1_1
LowUp_v1 = LowUp_v1_0 or LowUp_v1_1
LowDown_v1 = LowDown_v1_0 or LowDown_v1_1

Left_v1_0 = LowLeft_v1_0 or HighLeft_v1_0
Left_v1_1 = LowLeft_v1_1 or HighLeft_v1_1
Right_v1_0 = LowRight_v1_0 or HighRight_v1_0
Right_v1_1 = LowRight_v1_1 or HighRight_v1_1
Up_v1_0 = LowUp_v1_0 or HighUp_v1_0
Up_v1_1 = LowUp_v1_1 or HighUp_v1_1
Down_v1_0 = LowDown_v1_0 or HighDown_v1_0
Down_v1_1 = LowDown_v1_1 or HighDown_v1_1

Low_v1 = LowUp_v1 or LowDown_v1 or LowLeft_v1 or LowRight_v1
High_v1 = HighUp_v1 or HighDown_v1 or HighLeft_v1 or HighRight_v1

HighLeft_v2 = HighLeft_v2_0 or HighLeft_v2_1
HighRight_v2 = HighRight_v2_0 or HighRight_v2_1
HighUp_v2 = HighUp_v2_0 or HighUp_v2_1
HighDown_v2 = HighDown_v2_0 or HighDown_v2_1
LowLeft_v2 = LowLeft_v2_0 or LowLeft_v2_1
LowRight_v2 = LowRight_v2_0 or LowRight_v2_1
LowUp_v2 = LowUp_v2_0 or LowUp_v2_1
LowDown_v2 = LowDown_v2_0 or LowDown_v2_1

Left_v2_0 = LowLeft_v2_0 or HighLeft_v2_0
Left_v2_1 = LowLeft_v2_1 or HighLeft_v2_1
Right_v2_0 = LowRight_v2_0 or HighRight_v2_0
Right_v2_1 = LowRight_v2_1 or HighRight_v2_1
Up_v2_0 = LowUp_v2_0 or HighUp_v2_0
Up_v2_1 = LowUp_v2_1 or HighUp_v2_1
Down_v2_0 = LowDown_v2_0 or HighDown_v2_0
Down_v2_1 = LowDown_v2_1 or HighDown_v2_1

Low_v2 = LowUp_v2 or LowDown_v2 or LowLeft_v2 or LowRight_v2
High_v2 = HighUp_v2 or HighDown_v2 or HighLeft_v2 or HighRight_v2

HighLeft_v3 = HighLeft_v3_0 or HighLeft_v3_1
HighRight_v3 = HighRight_v3_0 or HighRight_v3_1
HighUp_v3 = HighUp_v3_0 or HighUp_v3_1
HighDown_v3 = HighDown_v3_0 or HighDown_v3_1
LowLeft_v3 = LowLeft_v3_0 or LowLeft_v3_1
LowRight_v3 = LowRight_v3_0 or LowRight_v3_1
LowUp_v3 = LowUp_v3_0 or LowUp_v3_1
LowDown_v3 = LowDown_v3_0 or LowDown_v3_1

Left_v3_0 = LowLeft_v3_0 or HighLeft_v3_0
Left_v3_1 = LowLeft_v3_1 or HighLeft_v3_1
Right_v3_0 = LowRight_v3_0 or HighRight_v3_0
Right_v3_1 = LowRight_v3_1 or HighRight_v3_1
Up_v3_0 = LowUp_v3_0 or HighUp_v3_0
Up_v3_1 = LowUp_v3_1 or HighUp_v3_1
Down_v3_0 = LowDown_v3_0 or HighDown_v3_0
Down_v3_1 = LowDown_v3_1 or HighDown_v3_1

Low_v3 = LowUp_v3 or LowDown_v3 or LowLeft_v3 or LowRight_v3
High_v3 = HighUp_v3 or HighDown_v3 or HighLeft_v3 or HighRight_v3

HighLeftDeco = HighLeft_v1 or HighLeft_v2 or HighLeft_v3
HighRightDeco = HighRight_v1 or HighRight_v2 or HighRight_v3
HighUpDeco = HighUp_v1 or HighUp_v2 or HighUp_v3
HighDownDeco = HighDown_v1 or HighDown_v2 or HighDown_v3
LowLeftDeco = LowLeft_v1 or LowLeft_v2 or LowLeft_v3
LowRightDeco = LowRight_v1 or LowRight_v2 or LowRight_v3
LowUpDeco = LowUp_v1 or LowUp_v2 or LowUp_v3
LowDownDeco = LowDown_v1 or LowDown_v2 or LowDown_v3

LowDeco = Low_v1 or Low_v2 or Low_v3
HighDeco = High_v1 or High_v2 or High_v3
Decoration = LowDeco or HighDeco

WallDeco = Wall_v1 or Wall_v2 or Wall_v3


╂ = HighUp and HighDown and Overlay and LowLeft and LowRight
┿ = HighLeft and HighRight and Overlay and LowUp and LowDown

│ = HighUp and HighDown
─ = HighLeft and HighRight
┘ = HighUp and HighLeft
└ = HighUp and HighRight
┐ = HighDown and HighLeft
┌ = HighDown and HighRight

╒ = HighDown and HighRight and HighDown_v1_0 and HighRight_v1_0
╓ = HighDown and HighRight and HighDown_v2_0 and HighRight_v2_0
╭ = HighDown and HighRight and HighDown_v3_0 and HighRight_v3_0

╫ = TargetCrossVertical
╪ = TargetCrossHorizontal

║ = TargetUpDown
═ = TargetLeftRight
╝ = TargetUpLeft
╚ = TargetUpRight
╗ = TargetDownLeft
╔ = TargetDownRight

loc = loc11 or loc21 or loc31 or loc12 or loc22 or loc32 or loc13 or loc23 or loc33

KnotA = Up_ or Left_
KnotB = Down_ or Right_

Plank = Plank1 or Plank2 or Plank3 or Plank4 or Plank5 or Plank6
PlankDecoBelow = Plank1Below

PlankPlain = Plank2 or Plank3 or Plank4 or Plank5 or Plank6
P3R = Plank4 or Plank1

P4R = Plank5 or Plank1

P5R = Plank6 or Plank1

(((( Title screen ))))

image = x0y0 or x0y1 or x0y2 or x0y3 or x0y4 or x0y5 or x0y6 or x0y7 or x0y8 or x1y0 or x1y1 or x1y2 or x1y3 or x1y4 or x1y5 or x1y6 or x1y7 or x1y8 or x2y0 or x2y1 or x2y2 or x2y3 or x2y4 or x2y5 or x2y6 or x2y7 or x2y8 or x3y0 or x3y1 or x3y2 or x3y3 or x3y4 or x3y5 or x3y6 or x3y7 or x3y8 or x4y0 or x4y1 or x4y2 or x4y3 or x4y4 or x4y5 or x4y6 or x4y7 or x4y8 or x5y0 or x5y1 or x5y2 or x5y3 or x5y4 or x5y5 or x5y6 or x5y7 or x5y8 or x6y0 or x6y1 or x6y2 or x6y3 or x6y4 or x6y5 or x6y6 or x6y7 or x6y8 or x7y0 or x7y1 or x7y2 or x7y3 or x7y4 or x7y5 or x7y6 or x7y7 or x7y8 or x8y0 or x8y1 or x8y2 or x8y3 or x8y4 or x8y5 or x8y6 or x8y7 or x8y8 or x9y0 or x9y1 or x9y2 or x9y3 or x9y4 or x9y5 or x9y6 or x9y7 or x9y8 or x10y0 or x10y1 or x10y2 or x10y3 or x10y4 or x10y5 or x10y6 or x10y7 or x10y8 or x11y0 or x11y1 or x11y2 or x11y3 or x11y4 or x11y5 or x11y6 or x11y7 or x11y8

a = x0y0

cftarget = closetarget or fartarget

longmove = longmoveover or longmoveunder

highlight = HighlightSquare or HighlightUp or HighlightDown or HighlightLeft or HighlightRight

=======
SOUNDS
=======

sfx0 31075507
sfx2 6008507
sfx3 40663107
sfx4 94359908

sfx5 37279309
sfx6 51132700

undo 6008507
(sfx:
0 = crate/barrel move
1 = standard rope movement
2 = moving a rope over/under
3 = twisting/untwisting a corner
4 = flip moves
5 = win
6 = nails
)


================
COLLISIONLAYERS
================

Background

Plank
PlankDecoBelow


Target

(BelowDeco)



LowUp
LowDown
LowLeft
LowRight
Overlay
HighUp
HighDown
HighLeft
HighRight

Obstacle
WallDeco
PlankFront
Rock

LowUpDeco
LowDownDeco
LowLeftDeco
LowRightDeco
HighUpDeco
HighDownDeco
HighLeftDeco
HighRightDeco

highlight
CursorActive
Tweak

move56alttag

lmb
rmb
lmbup
rmbup
drag
Temp
lowertag
loc

WinCon

image

longmoveover
longmoveunder
lmooverride
lmuoverride
blocked
blockedendpoint
closetarget
fartarget
active
nomovement

======
RULES
======

(((( Title screen ))))
horizontal [x0y0|||||||||||] -> [x0y0|x1y0|x2y0|x3y0|x4y0|x5y0|x6y0|x7y0|x8y0|x9y0|x10y0|x11y0]
vertical [x0y0||||||||] -> [x0y0|x0y1|x0y2|x0y3|x0y4|x0y5|x0y6|x0y7|x0y8]
vertical [x1y0||||||||] -> [x1y0|x1y1|x1y2|x1y3|x1y4|x1y5|x1y6|x1y7|x1y8]
vertical [x2y0||||||||] -> [x2y0|x2y1|x2y2|x2y3|x2y4|x2y5|x2y6|x2y7|x2y8]
vertical [x3y0||||||||] -> [x3y0|x3y1|x3y2|x3y3|x3y4|x3y5|x3y6|x3y7|x3y8]
vertical [x4y0||||||||] -> [x4y0|x4y1|x4y2|x4y3|x4y4|x4y5|x4y6|x4y7|x4y8]
vertical [x5y0||||||||] -> [x5y0|x5y1|x5y2|x5y3|x5y4|x5y5|x5y6|x5y7|x5y8]
vertical [x6y0||||||||] -> [x6y0|x6y1|x6y2|x6y3|x6y4|x6y5|x6y6|x6y7|x6y8]
vertical [x7y0||||||||] -> [x7y0|x7y1|x7y2|x7y3|x7y4|x7y5|x7y6|x7y7|x7y8]
vertical [x8y0||||||||] -> [x8y0|x8y1|x8y2|x8y3|x8y4|x8y5|x8y6|x8y7|x8y8]
vertical [x9y0||||||||] -> [x9y0|x9y1|x9y2|x9y3|x9y4|x9y5|x9y6|x9y7|x9y8]
vertical [x10y0||||||||] -> [x10y0|x10y1|x10y2|x10y3|x10y4|x10y5|x10y6|x10y7|x10y8]
vertical [x11y0||||||||] -> [x11y0|x11y1|x11y2|x11y3|x11y4|x11y5|x11y6|x11y7|x11y8]

[lmb image ] -> win
[rmb image ] -> win
(((( End of title screen))))

[ WinCon ] -> cancel

random [ no Plank ] -> [ Temp ]

[ ] [ Temp ] -> [ random Plank ] [ ]

down [ Plank | no Plank ] -> [ Plank | random Plank ]

right [ Plank1 | no Plank ] -> [ Plank1 | Plank2 ]
+ right [ Plank2 | no Plank ] -> [ Plank2 | Plank3 ]
+ right [ Plank3 | no Plank ] -> [ Plank3 | random P3R ]
+ right [ Plank4 | no Plank ] -> [ Plank4 | random P4R ]
+ right [ Plank5 | no Plank ] -> [ Plank5 | random P5R ]
+ right [ Plank6 | no Plank ] -> [ Plank6 | Plank1 ]

down [ Plank1 | Plank1 ] -> [ Plank1 | random PlankPlain ]

down [ Plank1 | ] -> [ Plank1 | Plank1Below ]

down [ no Wall | Wall ] -> [ no Wall | Wall PlankFront ]

(todo - replace certain cancels with feedback)

[ moving Player ] -> cancel

[ highlight ] -> [ ]

[ rmb Tweak ] -> [ ] sfx6
[ rmb Knot ] -> [ Tweak Knot ] sfx6

[ rmb ] -> [ ]

[ Tweak Overlay ] -> [ Overlay ]


[ lmb ] [ CursorActive ] -> [ lmb ] [ ]
[ lmb Knot ] -> [ CursorActiveStill Knot ]
[ lmb Crate ] -> [ CursorActiveStill Crate ]
[ lmb Barrel ] -> [ CursorActiveStill Barrel ]
[ lmb ] -> [ ]

[ drag Wall ] -> [ lmbup Wall ]

[ CursorActive | drag ] -> [ > CursorActiveMoved | drag ]

[ CursorActiveMoved ] [ move56alttag ] -> [ CursorActiveMoved ] [ ]

[ lmbup ] [ Tweak ] -> [ lmbup ] [ ]
[ lmbup ] [ CursorActive ] -> [ lmbup ] [ ]

[ lmbup ] -> [ ]

([ drag ] -> [ ])


(crate and barrel movement) ((((((((((((((((((((((((((((()))))))))))))))))))))))))))))

[ > CursorActive Cratelike | no Knot no Obstacle ] -> [ | CursorActive Cratelike ] sfx0 (crate/barrel)
[ > CursorActive Cratelike ] -> [ CursorActive Cratelike ]
[ CursorActive Cratelike ] [ drag ] -> [ CursorActive Cratelike ] [ ]

(movable anchor movement )

[ > CursorActive MovableAnchor | no Knot no Obstacle ] -> [ > MovableAnchor | CursorActive ]

up [ > MovableAnchor | ] -> [ HighUp | HighDown MovableAnchor ]
down [ > MovableAnchor | ] -> [ HighDown | HighUp MovableAnchor ]
left [ > MovableAnchor | ] -> [ HighLeft | HighRight MovableAnchor ]
right [ > MovableAnchor | ] -> [ HighRight | HighLeft MovableAnchor ]


[ > CursorActive MovableAnchor | no Obstacle no Overlay ] -> [ > MovableAnchor | CursorActive ]

[ up MovableAnchor no HighUp ]  -> cancel
[ down MovableAnchor no HighDown ] -> cancel
[ left MovableAnchor no HighLeft ] -> cancel
[ right MovableAnchor no HighRight ] -> cancel

[ moving MovableAnchor ] -> [ moving MovableAnchor no Knot ]

up [ > MovableAnchor | ] -> [ | no Down_ MovableAnchor ]
down [ > MovableAnchor | ] -> [ | no Up_ MovableAnchor ]
left [ > MovableAnchor | ] -> [ | no Right_ MovableAnchor ]
right [ > MovableAnchor | ] -> [ | no Left_ MovableAnchor ]


[ MovableAnchor HighUp ] -> [ MovableAnchor HighUp ]
[ MovableAnchor HighDown ] -> [ MovableAnchor HighDown ]
[ MovableAnchor HighLeft ] -> [ MovableAnchor HighLeft ]
[ MovableAnchor HighRight ] -> [ MovableAnchor HighRight ]



(standard movement code) ((((((((((((((((((((((((((((()))))))))))))))))))))))))))))

[ vertical CursorActive Horizontal_ ] -> [ vertical CursorActive vertical Horizontal_ ] 
[ horizontal CursorActive Vertical_ ] -> [ horizontal CursorActive horizontal Vertical_ ]

up [ moving Up_ Tweak | no Tweak ] -> [ Up_ Tweak | ]
down [ moving Down_ Tweak | no Tweak ] -> [ Down_ Tweak | ]
left [ moving Left_ Tweak | no Tweak ] -> [ Left_ Tweak | ]
right [ moving Right_ Tweak | no Tweak ] -> [ Right_ Tweak | ]

up [ moving Up_ | Down_ ] -> [ moving Up_ | moving Down_ ]
+ [ moving Down_ Up_ no Tweak ] -> [ moving Down_ moving Up_ ]

down [ moving Down_ | Up_ ] -> [ moving Down_ | moving Up_ ]
+ [ moving Up_ Down_ no Tweak ] -> [ moving Up_ moving Down_ ]

left [ moving Left_ | Right_ ] -> [ moving Left_ | moving Right_ ]
+ [ moving Right_ Left_ no Tweak ] -> [ moving Right_ moving Left_ ]

right [ moving Right_ | Left_ ] -> [ moving Right_ | moving Left_ ]
+ [ moving Left_ Right_ no Tweak ] -> [ moving Left_ moving Right_ ]

[ > Up_ | Up_ ] -> [ > Up_ blocked | Up_ ]
[ > Down_ | Down_ ] -> [ > Down_ blocked | Down_ ]
[ > Left_ | Left_ ] -> [ > Left_ blocked | Left_ ]
[ > Right_ | Right_ ] -> [ > Right_ blocked | Right_ ]

up [ no Up_ > Knot | Knot ] -> [ > Knot blocked | Knot ]
down [ no Down_ > Knot | Knot ] -> [ > Knot blocked | Knot ]
left [ no Left_ > Knot | Knot ] -> [ > Knot blocked | Knot ]
right [ no Right_ > Knot | Knot ] -> [ > Knot blocked | Knot ]

up [ > Knot | Obstacle no HighDown ] -> [ > Knot blocked | Obstacle ]
down [ > Knot | Obstacle no HighUp ] -> [ > Knot blocked | Obstacle ]
left [ > Knot | Obstacle no HighRight ] -> [ > Knot blocked | Obstacle ]
right [ > Knot | Obstacle no HighLeft ] -> [ > Knot blocked | Obstacle ]

[ > Knot Overlay ] -> [ > Knot Overlay blockedendpoint ]

[ > Knot ] -> [ Knot ]

(end pass 1)


[ vertical CursorActive Horizontal_ no Blocked ] -> [ vertical CursorActive vertical Horizontal_ ] 
[ horizontal CursorActive Vertical_ no Blocked ] -> [ horizontal CursorActive horizontal Vertical_ ]

up [ moving Up_ | blocked ] -> [ Up_ | blocked ]
down [ moving Down_ | blocked ] -> [ Down_ | blocked ]
left [ moving Left_ | blocked ] -> [ Left_ | blocked ]
right [ moving Right_ | blocked ] -> [ Right_ | blocked ]

up [ moving Up_ | Down_ ] -> [ moving Up_ | moving Down_ ]
+ up [ moving Down_ Up_ no Tweak | no blocked ] -> [ moving Down_ moving Up_ | ]

down [ moving Down_ | Up_ ] -> [ moving Down_ | moving Up_ ]
+ down [ moving Up_ Down_ no Tweak | no blocked ] -> [ moving Up_ moving Down_ | ]

left [ moving Left_ | Right_ ] -> [ moving Left_ | moving Right_ ]
+ left [ moving Right_ Left_ no Tweak | no blocked ] -> [ moving Right_ moving Left_ | ]

right [ moving Right_ | Left_ ] -> [ moving Right_ | moving Left_ ]
+ right [ moving Left_ Right_ no Tweak | no blocked ] -> [ moving Left_ moving Right_ | ]

[ moving CursorActive | ... | moving Knot no blockedendpoint ] -> [ moving CursorActive Temp | ... | moving Knot no blockedendpoint Temp ] 

[ Temp | | ... | Temp ] -> [ Temp | Temp | ... | Temp ]



[ > Knot ] -> [ Knot ]

(end pass 2)


[ perpendicular CursorActive blockedendpoint | no Temp ] -> [ CursorActive blockedendpoint | ]


[ vertical CursorActive Horizontal_ Temp ] -> [ vertical CursorActive vertical Horizontal_ Temp ] 
[ horizontal CursorActive Vertical_ Temp ] -> [ horizontal CursorActive horizontal Vertical_ Temp ]

up [ moving Up_ | no Temp ] -> [ Up_ | ]
down [ moving Down_ | no Temp ] -> [ Down_ | ]
left [ moving Left_ | no Temp ] -> [ Left_ | ]
right [ moving Right_ | no Temp ] -> [ Right_ | ]

up [ moving Up_ | Down_ ] -> [ moving Up_ | moving Down_ ]
+ up [ moving Down_ Up_ | Temp ] -> [ moving Down_ moving Up_ | Temp ]

down [ moving Down_ | Up_ ] -> [ moving Down_ | moving Up_ ]
+ down [ moving Up_ Down_ | Temp ] -> [ moving Up_ moving Down_ | Temp ]

left [ moving Left_ | Right_ ] -> [ moving Left_ | moving Right_ ]
+ left [ moving Right_ Left_ | Temp ] -> [ moving Right_ moving Left_ | Temp ]

right [ moving Right_ | Left_ ] -> [ moving Right_ | moving Left_ ]
+ right [ moving Left_ Right_ | Temp ] -> [ moving Left_ moving Right_ | Temp ]

[ Temp ] ->  [ ]

[ moving Up_ no Down_ ] -> [ moving Up_ Temp ]
[ moving Down_ no Up_ ] -> [ moving Down_ Temp ]
[ moving Left_ no Right_ ] -> [ moving Left_ Temp ]
[ moving Right_ no Left_ ] -> [ moving Right_ Temp ]

[ moving Up_ stationary Down_ ] -> [ moving Up_ Down_ Temp ]
[ moving Down_ stationary Up_ ] -> [ moving Down_ Up_ Temp ]
[ moving Left_ stationary Right_ ] -> [ moving Left_ Right_ Temp ]
[ moving Right_ stationary Left_ ] -> [ moving Right_ Left_ Temp ]



(actual movement)

[ > CursorActive ] -> [ > CursorActive nomovement ]
[ > Knot nomovement ] -> [ > Knot ]
[ > CursorActive nomovement ] -> [ CursorActive ]


[ moving Horizontal_ Vertical_ no Overlay ] -> [ moving Horizontal_ Vertical_ Temp ]
[ Horizontal_ moving Vertical_ no Overlay ] -> [ Horizontal_ moving Vertical_ Temp ]

[ moving Horizontal_ Tweak no Overlay ] -> [ moving Horizontal_ Tweak Temp ]
[ moving Vertical_ Tweak no Overlay ] -> [ moving Vertical_ Tweak Temp ]

[ moving Horizontal_ Anchor no Overlay ] -> [ moving Horizontal_ Anchor Temp ]
[ moving Vertical_ Anchor no Overlay ] -> [ moving Vertical_ Anchor Temp ]

up [ > Horizontal_ Temp Up_ | Down_ ] -> [ > Horizontal_ | ]
up [ > HighHorizontal Temp | ] -> [ > HighHorizontal HighUp | HighDown ]
up [ > LowHorizontal Temp | ] -> [ > LowHorizontal LowUp | LowDown ]

down [ > Horizontal_ Temp Down_ | Up_ ] -> [ > Horizontal_ | ]
down [ > HighHorizontal Temp | ] -> [ > HighHorizontal HighDown | HighUp ]
down [ > LowHorizontal Temp | ] -> [ > LowHorizontal LowDown | LowUp ]

left [ > Vertical_ Temp Left_ | Right_ ] -> [ > Vertical_ | ]
left [ > HighVertical Temp | ] -> [ > HighVertical HighLeft | HighRight ]
left [ > LowVertical Temp | ] -> [ > LowVertical LowLeft | LowRight ]

right [ > Vertical_ Temp Right_ | Left_ ] -> [ > Vertical_ | ]
right [ > HighVertical Temp | ] -> [ > HighVertical HighRight | HighLeft ]
right [ > LowVertical Temp | ] -> [ > LowVertical LowRight | LowLeft ]

[ Overlay > High | HighUp ] -> [ Overlay > High | LowUp ]
[ Overlay > High | HighDown ] -> [ Overlay > High | LowDown ]
[ Overlay > High | HighLeft ] -> [ Overlay > High | LowLeft ]
[ Overlay > High | HighRight ] -> [ Overlay > High | LowRight ]

[ Overlay > Low | LowUp ] -> [ Overlay > Low | HighUp ]
[ Overlay > Low | LowDown ] -> [ Overlay > Low | HighDown ]
[ Overlay > Low | LowLeft ] -> [ Overlay > Low | HighLeft ]
[ Overlay > Low | LowRight ] -> [ Overlay > Low | HighRight ]



[ > Knot | ] -> [ | Knot ]
[ > CursorActive | ] -> [ | CursorActive ] sfx1

[ CursorActive High Low ] -> [ CursorActive High Low Overlay ]

[ blocked ] -> [ ]
[ blockedendpoint ] -> [ ]
[ temp ] -> [ ]

(moves 3 + 4) ((((((((((((((((((((((((((((())))))))))))))))))))))))))))) (CHANGES START HERE) (this is a lie)

[ drag | ] -> [ drag Temp | Temp ]

[ CursorActive | | Temp | no drag ] -> [ > CursorActiveMoved | | | ]

[ vertical CursorActive Horizontal_ ] -> [ vertical CursorActive vertical Horizontal_ ] 
[ horizontal CursorActive Vertical_ ] -> [ horizontal CursorActive horizontal Vertical_ ]

up [ moving Up_ | Down_ ] -> [ moving Up_ | moving Down_ ]
+ [ moving Down_ Up_ no Tweak ] -> [ moving Down_ moving Up_ ]

down [ moving Down_ | Up_ ] -> [ moving Down_ | moving Up_ ]
+ [ moving Up_ Down_ no Tweak ] -> [ moving Up_ moving Down_ ]

left [ moving Left_ | Right_ ] -> [ moving Left_ | moving Right_ ]
+ [ moving Right_ Left_ no Tweak ] -> [ moving Right_ moving Left_ ]

right [ moving Right_ | Left_ ] -> [ moving Right_ | moving Left_ ]
+ [ moving Left_ Right_ no Tweak ] -> [ moving Left_ moving Right_ ]

[ > Knot | | ] -> [ active > Knot | closetarget | fartarget ]


[ moving Knot Overlay ] -> [ moving Knot Overlay blockedendpoint ]

up [ no Up_ active > Knot | | Knot ] -> [ blockedendpoint active > Knot | | Knot ]
down [ no Down_ active > Knot | | Knot ] -> [ blockedendpoint active > Knot | | Knot ]
left [ no Left_ active > Knot | | Knot ] -> [ blockedendpoint active > Knot | | Knot ]
right [ no Right_ active > Knot | | Knot ] -> [ blockedendpoint active > Knot | | Knot ]



[ active > Knot | Obstacle] -> [ blocked active > Knot | Obstacle]

up [ active > Knot | | Obstacle no HighDown ] -> [ blocked active > Knot | | Obstacle ]
down [ active > Knot | | Obstacle no HighUp ] -> [ blocked active > Knot | | Obstacle ]
left [ active > Knot | | Obstacle no HighRight ] -> [ blocked active > Knot | | Obstacle ]
right [ active > Knot | | Obstacle no HighLeft ] -> [ blocked active > Knot | | Obstacle ]


[ cftarget Up_ ] -> [ cftarget up Up_ ]
[ cftarget Down_ ] -> [ cftarget down Down_ ]
[ cftarget Left_ ] -> [ cftarget left Left_ ]
[ cftarget Right_ ] -> [ cftarget right Right_ ]



up [ active > Knot | | Up_ Horizontal_ ] -> [ active > Knot blocked | | Up_ Horizontal_ ]
down [ active > Knot | | Down_ Horizontal_ ] -> [ active > Knot blocked | | Down_ Horizontal_ ]
left [ active > Knot | | Left_ Vertical_ ] -> [ active > Knot blocked | | Left_ Vertical_ ]
right [ active > Knot | | Right_ Vertical_ ] -> [ active > Knot blocked | | Right_ Vertical_ ]

[ active > Up_ | | Up_ ] -> [ active > Up_ blocked | | Up_ ]
[ active > Down_ | | Down_ ] -> [ active > Down_ blocked | | Down_ ]
[ active > Left_ | | Left_ ] -> [ active > Left_ blocked | | Left_ ]
[ active > Right_ | | Right_ ] -> [ active > Right_ blocked | | Right_ ] 

[ active > Low | no Overlay ] -> [ active > Low longmoveunder | longmoveunder ]
[ active > High Overlay | no Overlay ] -> [ active > High Overlay longmoveover | longmoveover ]

(probably cursed)
[ active > Low | < Low ] -> [ active > Low longmoveunder | < Low longmoveunder ]
[ active > High | ^ Low ] -> [ active > High longmoveover | ^ Low longmoveover ]


[ active > High | < Low | ] -> [ active > High | < Low | lmooverride ]
[ active > Low | ^ Low | ] -> [ active > Low | ^ Low | lmuoverride ]
()

[ active > Knot no Overlay | < Low ] -> [ active > Knot longmoveunder | < Low longmoveunder ]
[ active > Knot no Overlay | ^ Low ] -> [ active > Knot longmoveover | ^ Low longmoveover ]

[ closetarget longmove > Knot | cftarget ] -> [ closetarget longmove > Knot | cftarget longmove ]

[ active > Knot longmove | longmoveover longmoveunder ] -> [ active > Knot longmove blocked | longmoveover longmoveunder ]

[ > Knot ] -> [ Knot ]

[ longmoveover longmoveunder ] -> [ ]

[ lmooverride ] -> [ longmoveover no longmoveunder ]
[ lmuoverride ] -> [ longmoveunder no longmoveover ]

(end pass 1)


[ vertical CursorActive Horizontal_ no Blocked ] -> [ vertical CursorActive vertical Horizontal_ ] 
[ horizontal CursorActive Vertical_ no Blocked ] -> [ horizontal CursorActive horizontal Vertical_ ]

up [ moving Up_ | blocked ] -> [ Up_ | blocked ]
down [ moving Down_ | blocked ] -> [ Down_ | blocked ]
left [ moving Left_ | blocked ] -> [ Left_ | blocked ]
right [ moving Right_ | blocked ] -> [ Right_ | blocked ]

up [ moving Up_ | Down_ ] -> [ moving Up_ | moving Down_ ]
+ up [ moving Down_ Up_ no Tweak | no blocked ] -> [ moving Down_ moving Up_ | ]

down [ moving Down_ | Up_ ] -> [ moving Down_ | moving Up_ ]
+ down [ moving Up_ Down_ no Tweak | no blocked ] -> [ moving Up_ moving Down_ | ]

left [ moving Left_ | Right_ ] -> [ moving Left_ | moving Right_ ]
+ left [ moving Right_ Left_ no Tweak | no blocked ] -> [ moving Right_ moving Left_ | ]

right [ moving Right_ | Left_ ] -> [ moving Right_ | moving Left_ ]
+ right [ moving Left_ Right_ no Tweak | no blocked ] -> [ moving Left_ moving Right_ | ]

[ moving CursorActive | ... | moving Knot no blockedendpoint ] -> [ moving CursorActive Temp | ... | moving Knot no blockedendpoint Temp ] 

[ Temp | | ... | Temp ] -> [ Temp | Temp | ... | Temp ]



[ > Knot ] -> [ Knot ]

(end pass 2)


[ perpendicular CursorActive blockedendpoint | no Temp ] -> [ CursorActive blockedendpoint | ]


[ vertical CursorActive Horizontal_ Temp ] -> [ vertical CursorActive vertical Horizontal_ Temp ] 
[ horizontal CursorActive Vertical_ Temp ] -> [ horizontal CursorActive horizontal Vertical_ Temp ]

up [ moving Up_ | no Temp ] -> [ Up_ | ]
down [ moving Down_ | no Temp ] -> [ Down_ | ]
left [ moving Left_ | no Temp ] -> [ Left_ | ]
right [ moving Right_ | no Temp ] -> [ Right_ | ]

up [ moving Up_ | Down_ ] -> [ moving Up_ | moving Down_ ]
+ up [ moving Down_ Up_ | Temp ] -> [ moving Down_ moving Up_ | Temp ]

down [ moving Down_ | Up_ ] -> [ moving Down_ | moving Up_ ]
+ down [ moving Up_ Down_ | Temp ] -> [ moving Up_ moving Down_ | Temp ]

left [ moving Left_ | Right_ ] -> [ moving Left_ | moving Right_ ]
+ left [ moving Right_ Left_ | Temp ] -> [ moving Right_ moving Left_ | Temp ]

right [ moving Right_ | Left_ ] -> [ moving Right_ | moving Left_ ]
+ right [ moving Left_ Right_ | Temp ] -> [ moving Left_ moving Right_ | Temp ]

[ Temp ] ->  [ ]

[ moving Up_ no Down_ ] -> [ moving Up_ Temp ]
[ moving Down_ no Up_ ] -> [ moving Down_ Temp ]
[ moving Left_ no Right_ ] -> [ moving Left_ Temp ]
[ moving Right_ no Left_ ] -> [ moving Right_ Temp ]

[ moving Up_ stationary Down_ ] -> [ moving Up_ Down_ Temp ]
[ moving Down_ stationary Up_ ] -> [ moving Down_ Up_ Temp ]
[ moving Left_ stationary Right_ ] -> [ moving Left_ Right_ Temp ]
[ moving Right_ stationary Left_ ] -> [ moving Right_ Left_ Temp ]





(actual movemet)

[ > CursorActive ] -> [ > CursorActive nomovement ]
[ > Knot nomovement ] -> [ > Knot ]
[ > CursorActive nomovement ] -> [ CursorActive ]

[ > CursorActive | drag | ] -> [ CursorActive | drag | > HighlightSquare ]

[ HighlightSquare ] [ > Knot ] -> [ HighlightSquare ] [ Knot ]

[ up HighlightSquare ] -> [ HighlightUp ]
[ down HighlightSquare ] -> [ HighlightDown ]
[ left HighlightSquare ] -> [ HighlightLeft ]
[ right HighlightSquare ] -> [ HighlightRight ]


up [ > Horizontal_ Temp Up_ | Down_ Up_ | Down_ ] -> [ | | Horizontal_ ]
up [ > Horizontal_ Temp Up_ | Down_ | ] -> [ | Up_ | Down_ Horizontal_ ]
up [ > Horizontal_ Temp | | ] -> [ HighUp | action HighDown action HighUp | HighDown Horizontal_ ]

down [ > Horizontal_ Temp Down_ | Up_ Down_ | Up_ ] -> [ | | Horizontal_ ]
down [ > Horizontal_ Temp Down_ | Up_ | ] -> [ | Down_ | Up_ Horizontal_ ]
down [ > Horizontal_ Temp | | ] -> [ HighDown | action HighUp action HighDown | HighUp Horizontal_ ]

left [ > Vertical_ Temp Left_ | Right_ Left_ | Right_ ] -> [ | | Vertical_ ]
left [ > Vertical_ Temp Left_ | Right_ | ] -> [ | Left_ | Right_ Vertical_ ]
left [ > Vertical_ Temp | | ] -> [ HighLeft | action HighRight action HighLeft | HighRight Vertical_ ]

right [ > Vertical_ Temp Right_ | Left_ Right_ | Left_ ] -> [ | | Vertical_ ]
right [ > Vertical_ Temp Right_ | Left_ | ] -> [ | Right_ | Left_ Vertical_ ]
right [ > Vertical_ Temp | | ] -> [ HighRight | action HighLeft action HighRight | HighLeft Vertical_ ]


[ > Knot | | ] -> [ | | action Knot ]


[ action HighUp longmoveunder ] -> [ LowUp longmoveunder ]
[ action HighDown longmoveunder ] -> [ LowDown longmoveunder ]
[ action HighLeft longmoveunder ] -> [ LowLeft longmoveunder ]
[ action HighRight longmoveunder ] -> [ LowRight longmoveunder ]

[ HighUp action HighHorizontal ] -> [ LowUp action HighHorizontal ]
[ HighDown action HighHorizontal ] -> [ LowDown action HighHorizontal ]
[ HighLeft action HighVertical ] -> [ LowLeft action HighVertical ]
[ HighRight action HighVertical ] -> [ LowRight action HighVertical ]

[ action Knot ] -> [ Knot ]

[ active ] -> [ ]
[ cftarget ] -> [ ]
[ longmoveunder ] -> [ ]
[ longmoveover ] -> [ ]
[ blocked ] -> [ ]
[ blockedendpoint ] -> [ ]
[ Temp ] -> [ ]




[ > CursorActive | | ] -> [ | | CursorActive Overlay ] sfx2

[ CursorActive High Low ] -> [ CursorActive High Low Overlay ]


(((((((((((((((((((((((((((((((((())))))))))))))))))))))))))))))))))

late [ CursorActive Tweak ] -> [ CursorActive ]

(((((((((((((((((((((((((((((((((()))))))))))))))))))))))))))))))))) (changes stop here)

late [ drag ] -> [ ]

late [ Tweak no Knot ] -> [ ]
late [ Tweak | Tweak CursorActive | Tweak ] -> [ Tweak | CursorActive | Tweak ] 

late [ Overlay ] -> [ ]
late [ High Low ] -> [ High Low Overlay ]

late [ LowUp no Overlay no Anchor ] -> [ HighUp ]
late [ LowDown no Overlay no Anchor ] -> [ HighDown ]
late [ LowLeft no Overlay no Anchor] -> [ HighLeft ]
late [ LowRight no Overlay no Anchor ] -> [ HighRight ]






(win conditions)
late [ CrateTarget Crate ] -> [ CrateTarget Crate WinConCrates ]
late [ BarrelTarget Barrel ] -> [ BarrelTarget Barrel WinConCrates ]

late [ CrossTarget Overlay ] -> [ CrossTarget Overlay WinConCrosses ]

late [ TargetCrossVertical Overlay HighUp ] -> [ TargetCrossVertical Overlay HighUp WinConRopes ]
late [ TargetCrossHorizontal Overlay HighLeft ] -> [ TargetCrossHorizontal Overlay HighLeft WinConRopes ]
late [ TargetUpDown HighUp HighDown ] -> [ TargetUpDown HighUp HighDown WinConRopes ]
late [ TargetLeftRight HighLeft HighRight ] -> [ TargetLeftRight HighLeft HighRight WinConRopes ] 
late [ TargetUpLeft HighUp HighLeft ] -> [ TargetUpLeft HighUp HighLeft WinConRopes ]
late [ TargetUpRight HighUp HighRight ] -> [ TargetUpRight HighUp HighRight WinConRopes ]
late [ TargetDownLeft HighDown HighLeft ] -> [ TargetDownLeft HighDown HighLeft WinConRopes ]
late [ TargetDownRight HighDown HighRight ] -> [ TargetDownRight HighDown HighRight WinConRopes ]

late [ Overlay no CrossTarget ] [ WinConCrosses ] -> [ Overlay ] [ ]

late [ Target no WinCon ] [ WinCon ] -> [ Target ] [ ]

late [ WinCon ] -> win sfx5



(object-specific cursors)
late up [ CursorActive Crate ] -> [ CursorCrate Crate ]
late up [ CursorActive Barrel ] -> [ CursorBarrel Barrel ]

(update decorations)
late [ Wall no WallDeco ] -> [ Wall random WallDeco ]

late [ LowUpDeco no LowUp ] -> [ ]
late [ LowDownDeco no LowDown ] -> [ ]
late [ LowLeftDeco no LowLeft ] -> [ ]
late [ LowRightDeco no LowRight ] -> [ ]
late [ HighUpDeco no HighUp ] -> [ ]
late [ HighDownDeco no HighDown ] -> [ ]
late [ HighLeftDeco no HighLeft ] -> [ ]
late [ HighRightDeco no HighRight ] -> [ ]

late [ LowUp_v1_0 LowDown ] -> [ LowUp_v1_0 LowDown LowDown_v1_0 ]
+ late [ LowUp_v1_1 LowDown ] -> [ LowUp_v1_1 LowDown LowDown_v1_1 ]
+ late [ LowDown_v1_0 LowUp ] -> [ LowDown_v1_0 LowUp LowUp_v1_0 ]
+ late [ LowDown_v1_1 LowUp ] -> [ LowDown_v1_1 LowUp LowUp_v1_1 ]
+ late [ LowLeft_v1_0 LowRight ] -> [ LowLeft_v1_0 LowRight LowRight_v1_0 ]
+ late [ LowLeft_v1_1 LowRight ] -> [ LowLeft_v1_1 LowRight LowRight_v1_1 ]
+ late [ LowRight_v1_0 LowLeft ] -> [ LowRight_v1_0 LowLeft LowLeft_v1_0 ]
+ late [ LowRight_v1_1 LowLeft ] -> [ LowRight_v1_1 LowLeft LowLeft_v1_1 ]
+ late [ HighUp_v1_0 HighDown ] -> [ HighUp_v1_0 HighDown HighDown_v1_0 ]
+ late [ HighUp_v1_1 HighDown ] -> [ HighUp_v1_1 HighDown HighDown_v1_1 ]
+ late [ HighUp_v1_0 HighLeft ] -> [ HighUp_v1_0 HighLeft HighLeft_v1_0 ]
+ late [ HighUp_v1_1 HighLeft ] -> [ HighUp_v1_1 HighLeft HighLeft_v1_1 ]
+ late [ HighUp_v1_0 HighRight ] -> [ HighUp_v1_0 HighRight HighRight_v1_0 ]
+ late [ HighUp_v1_1 HighRight ] -> [ HighUp_v1_1 HighRight HighRight_v1_1 ]
+ late [ HighDown_v1_0 HighUp ] -> [ HighDown_v1_0 HighUp HighUp_v1_0 ]
+ late [ HighDown_v1_1 HighUp ] -> [ HighDown_v1_1 HighUp HighUp_v1_1 ]
+ late [ HighDown_v1_0 HighLeft ] -> [ HighDown_v1_0 HighLeft HighLeft_v1_0 ]
+ late [ HighDown_v1_1 HighLeft ] -> [ HighDown_v1_1 HighLeft HighLeft_v1_1 ]
+ late [ HighDown_v1_0 HighRight ] -> [ HighDown_v1_0 HighRight HighRight_v1_0 ]
+ late [ HighDown_v1_1 HighRight ] -> [ HighDown_v1_1 HighRight HighRight_v1_1 ]
+ late [ HighLeft_v1_0 HighRight ] -> [ HighLeft_v1_0 HighRight HighRight_v1_0 ]
+ late [ HighLeft_v1_1 HighRight ] -> [ HighLeft_v1_1 HighRight HighRight_v1_1 ]
+ late [ HighLeft_v1_0 HighUp ] -> [ HighLeft_v1_0 HighUp HighUp_v1_0 ]
+ late [ HighLeft_v1_1 HighUp ] -> [ HighLeft_v1_1 HighUp HighUp_v1_1 ]
+ late [ HighLeft_v1_0 HighDown ] -> [ HighLeft_v1_0 HighDown HighDown_v1_0 ]
+ late [ HighLeft_v1_1 HighDown ] -> [ HighLeft_v1_1 HighDown HighDown_v1_1 ]
+ late [ HighRight_v1_0 HighLeft ] -> [ HighRight_v1_0 HighLeft HighLeft_v1_0 ]
+ late [ HighRight_v1_1 HighLeft ] -> [ HighRight_v1_1 HighLeft HighLeft_v1_1 ]
+ late [ HighRight_v1_0 HighUp ] -> [ HighRight_v1_0 HighUp HighUp_v1_0 ]
+ late [ HighRight_v1_1 HighUp ] -> [ HighRight_v1_1 HighUp HighUp_v1_1 ]
+ late [ HighRight_v1_0 HighDown ] -> [ HighRight_v1_0 HighDown HighDown_v1_0 ]
+ late [ HighRight_v1_1 HighDown ] -> [ HighRight_v1_1 HighDown HighDown_v1_1 ]
+ late right [ Right_v1_0 | HighLeft ] -> [ Right_v1_0 | HighLeft HighLeft_v1_1 ]
+ late right [ Right_v1_1 | HighLeft ] -> [ Right_v1_1 | HighLeft HighLeft_v1_0 ]
+ late right [ Right_v1_0 | LowLeft ] -> [ Right_v1_0 | LowLeft LowLeft_v1_1 ]
+ late right [ Right_v1_1 | LowLeft ] -> [ Right_v1_1 | LowLeft LowLeft_v1_0 ]
+ late left [ Left_v1_0 | HighRight ] -> [ Left_v1_0 | HighRight HighRight_v1_1 ]
+ late left [ Left_v1_1 | HighRight ] -> [ Left_v1_1 | HighRight HighRight_v1_0 ]
+ late left [ Left_v1_0 | LowRight ] -> [ Left_v1_0 | LowRight LowRight_v1_1 ]
+ late left [ Left_v1_1 | LowRight ] -> [ Left_v1_1 | LowRight LowRight_v1_0 ]
+ late down [ Down_v1_0 | HighUp ] -> [ Down_v1_0 | HighUp HighUp_v1_1 ]
+ late down [ Down_v1_1 | HighUp ] -> [ Down_v1_1 | HighUp HighUp_v1_0 ]
+ late down [ Down_v1_0 | LowUp ] -> [ Down_v1_0 | LowUp LowUp_v1_1 ]
+ late down [ Down_v1_1 | LowUp ] -> [ Down_v1_1 | LowUp LowUp_v1_0 ]
+ late up [ Up_v1_0 | HighDown ] -> [ Up_v1_0 | HighDown HighDown_v1_1 ]
+ late up [ Up_v1_1 | HighDown ] -> [ Up_v1_1 | HighDown HighDown_v1_0 ]
+ late up [ Up_v1_0 | LowDown ] -> [ Up_v1_0 | LowDown LowDown_v1_1 ]
+ late up [ Up_v1_1 | LowDown ] -> [ Up_v1_1 | LowDown LowDown_v1_0 ]

late [ LowUp_v2_0 LowDown ] -> [ LowUp_v2_0 LowDown LowDown_v2_0 ]
+ late [ LowUp_v2_1 LowDown ] -> [ LowUp_v2_1 LowDown LowDown_v2_1 ]
+ late [ LowDown_v2_0 LowUp ] -> [ LowDown_v2_0 LowUp LowUp_v2_0 ]
+ late [ LowDown_v2_1 LowUp ] -> [ LowDown_v2_1 LowUp LowUp_v2_1 ]
+ late [ LowLeft_v2_0 LowRight ] -> [ LowLeft_v2_0 LowRight LowRight_v2_0 ]
+ late [ LowLeft_v2_1 LowRight ] -> [ LowLeft_v2_1 LowRight LowRight_v2_1 ]
+ late [ LowRight_v2_0 LowLeft ] -> [ LowRight_v2_0 LowLeft LowLeft_v2_0 ]
+ late [ LowRight_v2_1 LowLeft ] -> [ LowRight_v2_1 LowLeft LowLeft_v2_1 ]
+ late [ HighUp_v2_0 HighDown ] -> [ HighUp_v2_0 HighDown HighDown_v2_0 ]
+ late [ HighUp_v2_1 HighDown ] -> [ HighUp_v2_1 HighDown HighDown_v2_1 ]
+ late [ HighUp_v2_0 HighLeft ] -> [ HighUp_v2_0 HighLeft HighLeft_v2_0 ]
+ late [ HighUp_v2_1 HighLeft ] -> [ HighUp_v2_1 HighLeft HighLeft_v2_1 ]
+ late [ HighUp_v2_0 HighRight ] -> [ HighUp_v2_0 HighRight HighRight_v2_0 ]
+ late [ HighUp_v2_1 HighRight ] -> [ HighUp_v2_1 HighRight HighRight_v2_1 ]
+ late [ HighDown_v2_0 HighUp ] -> [ HighDown_v2_0 HighUp HighUp_v2_0 ]
+ late [ HighDown_v2_1 HighUp ] -> [ HighDown_v2_1 HighUp HighUp_v2_1 ]
+ late [ HighDown_v2_0 HighLeft ] -> [ HighDown_v2_0 HighLeft HighLeft_v2_0 ]
+ late [ HighDown_v2_1 HighLeft ] -> [ HighDown_v2_1 HighLeft HighLeft_v2_1 ]
+ late [ HighDown_v2_0 HighRight ] -> [ HighDown_v2_0 HighRight HighRight_v2_0 ]
+ late [ HighDown_v2_1 HighRight ] -> [ HighDown_v2_1 HighRight HighRight_v2_1 ]
+ late [ HighLeft_v2_0 HighRight ] -> [ HighLeft_v2_0 HighRight HighRight_v2_0 ]
+ late [ HighLeft_v2_1 HighRight ] -> [ HighLeft_v2_1 HighRight HighRight_v2_1 ]
+ late [ HighLeft_v2_0 HighUp ] -> [ HighLeft_v2_0 HighUp HighUp_v2_0 ]
+ late [ HighLeft_v2_1 HighUp ] -> [ HighLeft_v2_1 HighUp HighUp_v2_1 ]
+ late [ HighLeft_v2_0 HighDown ] -> [ HighLeft_v2_0 HighDown HighDown_v2_0 ]
+ late [ HighLeft_v2_1 HighDown ] -> [ HighLeft_v2_1 HighDown HighDown_v2_1 ]
+ late [ HighRight_v2_0 HighLeft ] -> [ HighRight_v2_0 HighLeft HighLeft_v2_0 ]
+ late [ HighRight_v2_1 HighLeft ] -> [ HighRight_v2_1 HighLeft HighLeft_v2_1 ]
+ late [ HighRight_v2_0 HighUp ] -> [ HighRight_v2_0 HighUp HighUp_v2_0 ]
+ late [ HighRight_v2_1 HighUp ] -> [ HighRight_v2_1 HighUp HighUp_v2_1 ]
+ late [ HighRight_v2_0 HighDown ] -> [ HighRight_v2_0 HighDown HighDown_v2_0 ]
+ late [ HighRight_v2_1 HighDown ] -> [ HighRight_v2_1 HighDown HighDown_v2_1 ]
+ late right [ Right_v2_0 | HighLeft ] -> [ Right_v2_0 | HighLeft HighLeft_v2_1 ]
+ late right [ Right_v2_1 | HighLeft ] -> [ Right_v2_1 | HighLeft HighLeft_v2_0 ]
+ late right [ Right_v2_0 | LowLeft ] -> [ Right_v2_0 | LowLeft LowLeft_v2_1 ]
+ late right [ Right_v2_1 | LowLeft ] -> [ Right_v2_1 | LowLeft LowLeft_v2_0 ]
+ late left [ Left_v2_0 | HighRight ] -> [ Left_v2_0 | HighRight HighRight_v2_1 ]
+ late left [ Left_v2_1 | HighRight ] -> [ Left_v2_1 | HighRight HighRight_v2_0 ]
+ late left [ Left_v2_0 | LowRight ] -> [ Left_v2_0 | LowRight LowRight_v2_1 ]
+ late left [ Left_v2_1 | LowRight ] -> [ Left_v2_1 | LowRight LowRight_v2_0 ]
+ late down [ Down_v2_0 | HighUp ] -> [ Down_v2_0 | HighUp HighUp_v2_1 ]
+ late down [ Down_v2_1 | HighUp ] -> [ Down_v2_1 | HighUp HighUp_v2_0 ]
+ late down [ Down_v2_0 | LowUp ] -> [ Down_v2_0 | LowUp LowUp_v2_1 ]
+ late down [ Down_v2_1 | LowUp ] -> [ Down_v2_1 | LowUp LowUp_v2_0 ]
+ late up [ Up_v2_0 | HighDown ] -> [ Up_v2_0 | HighDown HighDown_v2_1 ]
+ late up [ Up_v2_1 | HighDown ] -> [ Up_v2_1 | HighDown HighDown_v2_0 ]
+ late up [ Up_v2_0 | LowDown ] -> [ Up_v2_0 | LowDown LowDown_v2_1 ]
+ late up [ Up_v2_1 | LowDown ] -> [ Up_v2_1 | LowDown LowDown_v2_0 ]

late [ LowUp_v3_0 LowDown ] -> [ LowUp_v3_0 LowDown LowDown_v3_0 ]
+ late [ LowUp_v3_1 LowDown ] -> [ LowUp_v3_1 LowDown LowDown_v3_1 ]
+ late [ LowDown_v3_0 LowUp ] -> [ LowDown_v3_0 LowUp LowUp_v3_0 ]
+ late [ LowDown_v3_1 LowUp ] -> [ LowDown_v3_1 LowUp LowUp_v3_1 ]
+ late [ LowLeft_v3_0 LowRight ] -> [ LowLeft_v3_0 LowRight LowRight_v3_0 ]
+ late [ LowLeft_v3_1 LowRight ] -> [ LowLeft_v3_1 LowRight LowRight_v3_1 ]
+ late [ LowRight_v3_0 LowLeft ] -> [ LowRight_v3_0 LowLeft LowLeft_v3_0 ]
+ late [ LowRight_v3_1 LowLeft ] -> [ LowRight_v3_1 LowLeft LowLeft_v3_1 ]
+ late [ HighUp_v3_0 HighDown ] -> [ HighUp_v3_0 HighDown HighDown_v3_0 ]
+ late [ HighUp_v3_1 HighDown ] -> [ HighUp_v3_1 HighDown HighDown_v3_1 ]
+ late [ HighUp_v3_0 HighLeft ] -> [ HighUp_v3_0 HighLeft HighLeft_v3_0 ]
+ late [ HighUp_v3_1 HighLeft ] -> [ HighUp_v3_1 HighLeft HighLeft_v3_1 ]
+ late [ HighUp_v3_0 HighRight ] -> [ HighUp_v3_0 HighRight HighRight_v3_0 ]
+ late [ HighUp_v3_1 HighRight ] -> [ HighUp_v3_1 HighRight HighRight_v3_1 ]
+ late [ HighDown_v3_0 HighUp ] -> [ HighDown_v3_0 HighUp HighUp_v3_0 ]
+ late [ HighDown_v3_1 HighUp ] -> [ HighDown_v3_1 HighUp HighUp_v3_1 ]
+ late [ HighDown_v3_0 HighLeft ] -> [ HighDown_v3_0 HighLeft HighLeft_v3_0 ]
+ late [ HighDown_v3_1 HighLeft ] -> [ HighDown_v3_1 HighLeft HighLeft_v3_1 ]
+ late [ HighDown_v3_0 HighRight ] -> [ HighDown_v3_0 HighRight HighRight_v3_0 ]
+ late [ HighDown_v3_1 HighRight ] -> [ HighDown_v3_1 HighRight HighRight_v3_1 ]
+ late [ HighLeft_v3_0 HighRight ] -> [ HighLeft_v3_0 HighRight HighRight_v3_0 ]
+ late [ HighLeft_v3_1 HighRight ] -> [ HighLeft_v3_1 HighRight HighRight_v3_1 ]
+ late [ HighLeft_v3_0 HighUp ] -> [ HighLeft_v3_0 HighUp HighUp_v3_0 ]
+ late [ HighLeft_v3_1 HighUp ] -> [ HighLeft_v3_1 HighUp HighUp_v3_1 ]
+ late [ HighLeft_v3_0 HighDown ] -> [ HighLeft_v3_0 HighDown HighDown_v3_0 ]
+ late [ HighLeft_v3_1 HighDown ] -> [ HighLeft_v3_1 HighDown HighDown_v3_1 ]
+ late [ HighRight_v3_0 HighLeft ] -> [ HighRight_v3_0 HighLeft HighLeft_v3_0 ]
+ late [ HighRight_v3_1 HighLeft ] -> [ HighRight_v3_1 HighLeft HighLeft_v3_1 ]
+ late [ HighRight_v3_0 HighUp ] -> [ HighRight_v3_0 HighUp HighUp_v3_0 ]
+ late [ HighRight_v3_1 HighUp ] -> [ HighRight_v3_1 HighUp HighUp_v3_1 ]
+ late [ HighRight_v3_0 HighDown ] -> [ HighRight_v3_0 HighDown HighDown_v3_0 ]
+ late [ HighRight_v3_1 HighDown ] -> [ HighRight_v3_1 HighDown HighDown_v3_1 ]
+ late right [ Right_v3_0 | HighLeft ] -> [ Right_v3_0 | HighLeft HighLeft_v3_1 ]
+ late right [ Right_v3_1 | HighLeft ] -> [ Right_v3_1 | HighLeft HighLeft_v3_0 ]
+ late right [ Right_v3_0 | LowLeft ] -> [ Right_v3_0 | LowLeft LowLeft_v3_1 ]
+ late right [ Right_v3_1 | LowLeft ] -> [ Right_v3_1 | LowLeft LowLeft_v3_0 ]
+ late left [ Left_v3_0 | HighRight ] -> [ Left_v3_0 | HighRight HighRight_v3_1 ]
+ late left [ Left_v3_1 | HighRight ] -> [ Left_v3_1 | HighRight HighRight_v3_0 ]
+ late left [ Left_v3_0 | LowRight ] -> [ Left_v3_0 | LowRight LowRight_v3_1 ]
+ late left [ Left_v3_1 | LowRight ] -> [ Left_v3_1 | LowRight LowRight_v3_0 ]
+ late down [ Down_v3_0 | HighUp ] -> [ Down_v3_0 | HighUp HighUp_v3_1 ]
+ late down [ Down_v3_1 | HighUp ] -> [ Down_v3_1 | HighUp HighUp_v3_0 ]
+ late down [ Down_v3_0 | LowUp ] -> [ Down_v3_0 | LowUp LowUp_v3_1 ]
+ late down [ Down_v3_1 | LowUp ] -> [ Down_v3_1 | LowUp LowUp_v3_0 ]
+ late up [ Up_v3_0 | HighDown ] -> [ Up_v3_0 | HighDown HighDown_v3_1 ]
+ late up [ Up_v3_1 | HighDown ] -> [ Up_v3_1 | HighDown HighDown_v3_0 ]
+ late up [ Up_v3_0 | LowDown ] -> [ Up_v3_0 | LowDown LowDown_v3_1 ]
+ late up [ Up_v3_1 | LowDown ] -> [ Up_v3_1 | LowDown LowDown_v3_0 ]

(debug - should never happen, but might be hard to notice if they do)
(if these are messages weird stuff happens, don't make them messages )


late [ HighUp LowUp ] -> [ Temp ]
late [ HighDown LowDown ] -> [ Temp ]
late [ HighLeft LowLeft ] -> [ Temp ]
late [ HighRight LowRight ] -> [ Temp ]

late [ HighUp LowDown ] -> [ Temp ]
late [ HighDown LowUp ] -> [ Temp ]
late [ HighLeft LowRight ] -> [ Temp ]
late [ HighRight LowLeft ] -> [ Temp ]

late right [ Right_ | no Left_ no Anchor ] -> [ Right_ | Temp ]
late left [ Left_ | no Right_ no Anchor ] -> [ Left_ | Temp ]
late down [ Down_ | no Up_ no Anchor ] -> [ Down_ | Temp ]
late up [ Up_ | no Down_ no Anchor ] -> [ Up_ | Temp ]


==============
WINCONDITIONS
==============

=======
LEVELS
=======

a...........
............
............
............
............
............
............
............
............

message All hands on deck! Click and drag crates onto the targets.
(Basic mouse-based sokoban introduction)

###########
###########
##...######
##.o.######
##...#.o.##
####*..*.##
##...#.o.##
##.*.######
##...######
###########
###########

message Click and drag on the rope to deform it. Ropes are blocked by crates and vice-versa!
(Doesn't require any fancy deformations of the rope)

############
############
##..╒─┐...##
##..│o│...##
##┌─╂─┘.*.##
##│o│.....##
##└─┘.....##
##........##
##..*.....##
##........##
############
############

message This is a rope target. It must be matched exactly by a rope.
(Again no fancy rope manipulation required.)

############
############
##..╒─┐...##
##..│o│...##
##╒─╂─┘...##
##│o│..╔═╗##
##└─┘..║.║##
##...╔═╫═╝##
##...║.║..##
##...╚═╝..##
############
############

message Click a corner of the rope to wind it into a tight loop. Click the crossing of a tight loop to unwind it.
(One of the few levels without any crates. Not sure how to add one in an interesting way though.)
###########
###########
##╒┐.....##
##└┘.....##
##....#..##
##.......##
#####.╔╗.##
#####.╚╫╗##
#####..╚╝##
###########
###########

message Right click the rope to nail it down before dragging in order to create new bends.
(Introduction to right clicking.)

###########
###########
####...####
####.*.####
##.╒───┐.##
##.│ooo│.##
##.└───┘.##
##.*.#.*.##
##...#...##
###########
###########

message You can drag a shorter rope segment over a longer parallel piece of rope.
(Introduction to 3-4 moves)

#############
#############
##.........##
##.╒─┐..═..##
##.│.│.║*║.##
##.│o│..═..##
##.│.│.....##
##.│o│..═..##
##.│.│.║*║.##
##.└─┘..═..##
##.........##
#############
#############

message Try dragging a corner of one rope diagonally across another!
(Introduction to flip moves)

###############
###############
##..╒──┐.....##
##..│*╓┿──┐..##
##..│.││.o│..##
##..│.││.o│..##
##..│*└╂──┘..##
##..└──┘.....##
###############
###############


message There are many varieties of these diagonal moves. Keep experimenting with them!
(Introduces 1-2 move)

############
############
##╒─┐.....##
##│o│.....##
##└─╂──┐..##
##..│.*│..##
##..│*.│..##
##..└──┿─┐##
##.....│o│##
##.....└─┘##
############
############

(Introduces 7-8 move by heavily constraining the solution space.)

###########
###########
##...╒──┐##
##.*┌┿─┐│##
##┌─╂┿─╂┘##
##│o││.│.##
##└─┘└─┘.##
###########
###########

################
################
##............##
##..╔═╗..╒─┐..##
##.╔╫═╪╗.│o│..##
##.╚╪═╫╝╓╂─┿┐.##
##..║*║.└┿─╂┘.##
##..╚═╝..└─┘..##
##............##
################
################

##############
##############
##╒─┐....╔═╗##
##│o│....║*║##
##└─┿─┐╔═╫═╝##
##..│o│║*║..##
##╒─┿─┘╚═╫═╗##
##│o│....║*║##
##└─┘....╚═╝##
##############
##############

#############
#############
######╒───┐##
##...#│.O.│##
##...#└┐.┌┘##
##┌─┐##│.│###
##│*│##│.│###
##│.└──┿─┘###
##│O...│..###
##│.┌──┘..###
##│*│########
##└─┘########
##...########
##...########
#############
#############

message Make sure the right rope is on top when matching rope targets! When creating corner loops, you can click the corner several times to toggle between the two orientations.

#############
#############
##.........##
##.........##
##...╒─┐...##
##...│.│...##
##...└─┘...##
##.........##
##...╔╗╔╗..##
##..╔╪╫╪╝..##
##..╚╝╚╝...##
##.........##
##.........##
#############
#############

#################
#################
##.............##
##.............##
##...╒─┐.╔═╗...##
##..╓╂┐│.║╔╪╗..##
##..│└╂┘.╚╪╝║..##
##..└─┘...╚═╝..##
##.............##
##.............##
#################
#################

##############
##############
##..........##
##.╒──────┐.##
##.│.╔..╗.│.##
##.│╔╫..╪╗│.##
##.│......│.##
##.│......│.##
##.│╚╪..╫╝│.##
##.│.╚..╝.│.##
##.└──────┘.##
##..........##
##############
##############

#############
#############
##.........##
##....o....##
##..╒───┐..##
##..│╫═╫│..##
##..│║*║│..##
##..│╫═╫│..##
##..└───┘..##
##.........##
##.........##
#############
#############

##############
##############
##..........##
##.╔══════╗.##
##.║╒───┐.║.##
##.║│┌─┐│.║.##
##.║││┌┿╂┐║.##
##.║││└╂┘│║.##
##.║│└─╂─┘║.##
##.║└──┘..║.##
##.╚══════╝.##
##..........##
##############
##############

message Barrels are like crates, but with fewer corners!

###########
###########
##..╒─┐..##
##..│U│..##
##┌─╂─┘*.##
##│o│....##
##└─┘....##
##.._....##
##.......##
###########
###########

#################
#################
##╒───┐###┌───┐##
##│...│###│...│##
##│...└─┐.│...│##
##│o._┌─╂─┘*.u│##
##│...│.└─┐...│##
##│...│###│...│##
##└───┘###└───┘##
#################
#################

message Fair winds! You'll need them.

#################
#################
##.............##
##........╒─┐..##
##........│┌╂┐.##
##.......┌┿╂┘│.##
##.......│└┿─┘.##
##.......└─┘...##
##.............##
##...╔═╗.......##
##.╔═╫╗║.......##
##.║╔╪╫╝.......##
##.╚╪╝║........##
##..╚═╝........##
##.............##
#################
#################

#####################
#####################
##.................##
##..........╒───┐..##
##..........│╓──┿┐.##
##.........╭╂┿─┐││.##
##.........│││.│││.##
##.........│└╂─┿┘│.##
##.........│.└─╂─┘.##
##.........└───┘...##
##.................##
##...╔═══╗.........##
##.╔═╪═╗.║.........##
##.║╔╫═╪╗║.........##
##.║║║.║║║.........##
##.║║╚═╫╪╝.........##
##.╚╫══╝║..........##
##..╚═══╝..........##
##.................##
#####################
#####################

message Thanks for playing our game!

#############
#############
###.......###
##.........##
##......*..##
##...╒─┐...##
##...│r│...##
##.╒─┿─┘...##
##.│o│.....##
##.└─┘.....##
###.......###
#############
#############